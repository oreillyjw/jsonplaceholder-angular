<h1>{{ title }} User</h1>
<div class="row">
  <div class="col-md-6 well">
    <form [formGroup]="form" (ngSubmit)="saveUser()">
      <fieldset>
        <legend>User</legend>
        <div class="form-group">
          <label class="control-label" for="name">Name</label>
          <input  [(ngModel)]="user.name" #name type="text" class="form-control" id="name" name="name" formControlName="name">
          <div *ngIf="form.get('name').touched && form.get('name').errors">
            <div
                class="alert alert-danger"
                *ngIf="form.get('name').errors.required">
                Name is required.
            </div>
          </div>
          <!-- required -->
        </div>
        <div class="form-group">
          <label class="control-label" for="email">Email</label>
          <input  [(ngModel)]="user.email" #email type="text" class="form-control" id="email" name="email" formControlName="email">
          <div *ngIf="form.get('email').touched && form.get('email').errors">
            <div
                class="alert alert-danger"
                *ngIf="form.get('email').errors.required">
                Email is required.
            </div>
            <div
                class="alert alert-danger"
                *ngIf="!form.get('email').errors.required && form.get('email').errors.hasInvalidEmail">
                Valid email is required
            </div>
          </div>
          <!-- required -->
          <!-- valid email -->
        </div>
        <div class="form-group">
          <label class="control-label" for="phone" name="phone" >Phone</label>
          <input  [(ngModel)]="user.phone" #phone type="text" class="form-control" id="phone" formControlName="phone">
        </div>
      </fieldset>
      <fieldset formGroupName="address">
        <legend>Address</legend>
        <div class="form-group">
          <label class="control-label" for="street">Street</label>
          <input [(ngModel)]="user.address.street" type="text" class="form-control" id="street" formControlName="street">
        </div>
        <div class="form-group">
          <label class="control-label" for="suite">Suite</label>
          <input [(ngModel)]="user.address.suite" type="text" class="form-control" id="suite" formControlName="suite">
        </div>
        <div class="form-group">
          <label class="control-label" for="city">City</label>
          <input  [(ngModel)]="user.address.city" type="text" class="form-control" id="city" formControlName="city">
        </div>
        <div class="form-group">
          <label class="control-label" for="zipcode">Zipcode</label>
          <input type="text"  [(ngModel)]="user.address.zipcode" class="form-control" id="zipcode" formControlName="zipcode">
        </div>
        <button [disabled]="form.invalid" type="submit" class="btn btn-primary">Save</button>
      </fieldset>
    </form>
  </div>
</div>
